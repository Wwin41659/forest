<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="generator" content="rustdoc"><meta name="description" content="Provider Trait. This trait will be used by the message pool to interact with some medium in order to do the operations that are listed below that are required for the message pool."><meta name="keywords" content="rust, rustlang, rust-lang, Provider"><title>Provider in forest_message_pool - Rust</title><link rel="preload" as="font" type="font/woff2" crossorigin href="../static.files/SourceSerif4-Regular-1f7d512b176f0f72.ttf.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../static.files/FiraSans-Regular-018c141bf0843ffd.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../static.files/FiraSans-Medium-8f9a781e4970d388.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../static.files/SourceCodePro-Regular-562dcc5011b6de7d.ttf.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../static.files/SourceSerif4-Bold-124a1ca42af929b6.ttf.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../static.files/SourceCodePro-Semibold-d899c5a5c4aeb14a.ttf.woff2"><link rel="stylesheet" href="../static.files/normalize-76eba96aa4d2e634.css"><link rel="stylesheet" href="../static.files/rustdoc-f2fc7b5fd698d27d.css" id="mainThemeStyle"><link rel="stylesheet" id="themeStyle" href="../static.files/light-5f7299aa2b503fb1.css"><link rel="stylesheet" disabled href="../static.files/dark-dfb18ef8114bb428.css"><link rel="stylesheet" disabled href="../static.files/ayu-4047a6aaddd3789d.css"><script id="default-settings" ></script><script src="../static.files/storage-d43fa987303ecbbb.js"></script><script defer src="sidebar-items.js"></script><script defer src="../static.files/main-02cbe07fc548e88c.js"></script><noscript><link rel="stylesheet" href="../static.files/noscript-13285aec31fa243e.css"></noscript><link rel="alternate icon" type="image/png" href="../static.files/favicon-16x16-8b506e7a72182f1c.png"><link rel="alternate icon" type="image/png" href="../static.files/favicon-32x32-422f7d1d52889060.png"><link rel="icon" type="image/svg+xml" href="../static.files/favicon-2c020d218678b618.svg"></head><body class="rustdoc trait"><!--[if lte IE 11]><div class="warning">This old browser is unsupported and will most likely display funky things.</div><![endif]--><nav class="mobile-topbar"><button class="sidebar-menu-toggle">&#9776;</button><a class="logo-container" href="../forest_message_pool/index.html"><img class="rust-logo" src="../static.files/rust-logo-151179464ae7ed46.svg" alt="logo"></a><h2></h2></nav><nav class="sidebar"><a class="logo-container" href="../forest_message_pool/index.html"><img class="rust-logo" src="../static.files/rust-logo-151179464ae7ed46.svg" alt="logo"></a><h2 class="location"><a href="#">Provider</a></h2><div class="sidebar-elems"><section><h3><a href="#required-methods">Required Methods</a></h3><ul class="block"><li><a href="#tymethod.chain_compute_base_fee">chain_compute_base_fee</a></li><li><a href="#tymethod.get_actor_after">get_actor_after</a></li><li><a href="#tymethod.get_heaviest_tipset">get_heaviest_tipset</a></li><li><a href="#tymethod.load_tipset">load_tipset</a></li><li><a href="#tymethod.messages_for_block">messages_for_block</a></li><li><a href="#tymethod.messages_for_tipset">messages_for_tipset</a></li><li><a href="#tymethod.put_message">put_message</a></li><li><a href="#tymethod.subscribe_head_changes">subscribe_head_changes</a></li></ul><h3><a href="#implementors">Implementors</a></h3></section><h2><a href="index.html">In forest_message_pool</a></h2></div></nav><main><div class="width-limiter"><nav class="sub"><form class="search-form"><span></span><input class="search-input" name="search" aria-label="Run search in the documentation" autocomplete="off" spellcheck="false" placeholder="Click or press ‘S’ to search, ‘?’ for more options…" type="search"><div id="help-button" title="help" tabindex="-1"><a href="../help.html">?</a></div><div id="settings-menu" tabindex="-1"><a href="../settings.html" title="settings"><img width="22" height="22" alt="Change settings" src="../static.files/wheel-5ec35bf9ca753509.svg"></a></div></form></nav><section id="main-content" class="content"><div class="main-heading"><h1>Trait <a href="index.html">forest_message_pool</a>::<wbr><a class="trait" href="#">Provider</a><button id="copy-path" title="Copy item path to clipboard"><img src="../static.files/clipboard-7571035ce49a181d.svg" width="19" height="18" alt="Copy item path"></button></h1><span class="out-of-band"><a class="srclink" href="../src/forest_message_pool/msgpool/provider.rs.html#30-53">source</a> · <button id="toggle-all-docs" title="collapse all docs">[<span>&#x2212;</span>]</button></span></div><div class="item-decl"><pre class="rust"><code>pub trait Provider {
    fn <a href="#tymethod.subscribe_head_changes" class="fn">subscribe_head_changes</a>(&amp;self) -&gt; Subscriber&lt;<a class="enum" href="../forest_chain/store/chain_store/enum.HeadChange.html" title="enum forest_chain::store::chain_store::HeadChange">HeadChange</a>&gt;;
<span class="item-spacer"></span>    fn <a href="#tymethod.get_heaviest_tipset" class="fn">get_heaviest_tipset</a>(&amp;self) -&gt; <a class="struct" href="https://doc.rust-lang.org/nightly/alloc/sync/struct.Arc.html" title="struct alloc::sync::Arc">Arc</a>&lt;<a class="struct" href="../forest_blocks/tipset/struct.Tipset.html" title="struct forest_blocks::tipset::Tipset">Tipset</a>&gt;;
<span class="item-spacer"></span>    fn <a href="#tymethod.put_message" class="fn">put_message</a>(&amp;self, msg: &amp;<a class="enum" href="../forest_message/chain_message/enum.ChainMessage.html" title="enum forest_message::chain_message::ChainMessage">ChainMessage</a>) -&gt; <a class="enum" href="https://doc.rust-lang.org/nightly/core/result/enum.Result.html" title="enum core::result::Result">Result</a>&lt;Cid, <a class="enum" href="enum.Error.html" title="enum forest_message_pool::Error">Error</a>&gt;;
<span class="item-spacer"></span>    fn <a href="#tymethod.get_actor_after" class="fn">get_actor_after</a>(<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;self,<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;addr: &amp;<a class="struct" href="../forest_shim/address/struct.Address.html" title="struct forest_shim::address::Address">Address</a>,<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ts: &amp;<a class="struct" href="../forest_blocks/tipset/struct.Tipset.html" title="struct forest_blocks::tipset::Tipset">Tipset</a><br>&nbsp;&nbsp;&nbsp;&nbsp;) -&gt; <a class="enum" href="https://doc.rust-lang.org/nightly/core/result/enum.Result.html" title="enum core::result::Result">Result</a>&lt;<a class="struct" href="../forest_shim/state_tree/struct.ActorState.html" title="struct forest_shim::state_tree::ActorState">ActorState</a>, <a class="enum" href="enum.Error.html" title="enum forest_message_pool::Error">Error</a>&gt;;
<span class="item-spacer"></span>    fn <a href="#tymethod.messages_for_block" class="fn">messages_for_block</a>(<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;self,<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;h: &amp;<a class="struct" href="../forest_blocks/header/struct.BlockHeader.html" title="struct forest_blocks::header::BlockHeader">BlockHeader</a><br>&nbsp;&nbsp;&nbsp;&nbsp;) -&gt; <a class="enum" href="https://doc.rust-lang.org/nightly/core/result/enum.Result.html" title="enum core::result::Result">Result</a>&lt;(<a class="struct" href="https://doc.rust-lang.org/nightly/alloc/vec/struct.Vec.html" title="struct alloc::vec::Vec">Vec</a>&lt;<a class="struct" href="../forest_shim/message/struct.Message.html" title="struct forest_shim::message::Message">Message</a>&gt;, <a class="struct" href="https://doc.rust-lang.org/nightly/alloc/vec/struct.Vec.html" title="struct alloc::vec::Vec">Vec</a>&lt;<a class="struct" href="../forest_message/signed_message/struct.SignedMessage.html" title="struct forest_message::signed_message::SignedMessage">SignedMessage</a>&gt;), <a class="enum" href="enum.Error.html" title="enum forest_message_pool::Error">Error</a>&gt;;
<span class="item-spacer"></span>    fn <a href="#tymethod.messages_for_tipset" class="fn">messages_for_tipset</a>(&amp;self, h: &amp;<a class="struct" href="../forest_blocks/tipset/struct.Tipset.html" title="struct forest_blocks::tipset::Tipset">Tipset</a>) -&gt; <a class="enum" href="https://doc.rust-lang.org/nightly/core/result/enum.Result.html" title="enum core::result::Result">Result</a>&lt;<a class="struct" href="https://doc.rust-lang.org/nightly/alloc/vec/struct.Vec.html" title="struct alloc::vec::Vec">Vec</a>&lt;<a class="enum" href="../forest_message/chain_message/enum.ChainMessage.html" title="enum forest_message::chain_message::ChainMessage">ChainMessage</a>&gt;, <a class="enum" href="enum.Error.html" title="enum forest_message_pool::Error">Error</a>&gt;;
<span class="item-spacer"></span>    fn <a href="#tymethod.load_tipset" class="fn">load_tipset</a>(&amp;self, tsk: &amp;<a class="struct" href="../forest_blocks/tipset/struct.TipsetKeys.html" title="struct forest_blocks::tipset::TipsetKeys">TipsetKeys</a>) -&gt; <a class="enum" href="https://doc.rust-lang.org/nightly/core/result/enum.Result.html" title="enum core::result::Result">Result</a>&lt;<a class="struct" href="https://doc.rust-lang.org/nightly/alloc/sync/struct.Arc.html" title="struct alloc::sync::Arc">Arc</a>&lt;<a class="struct" href="../forest_blocks/tipset/struct.Tipset.html" title="struct forest_blocks::tipset::Tipset">Tipset</a>&gt;, <a class="enum" href="enum.Error.html" title="enum forest_message_pool::Error">Error</a>&gt;;
<span class="item-spacer"></span>    fn <a href="#tymethod.chain_compute_base_fee" class="fn">chain_compute_base_fee</a>(&amp;self, ts: &amp;<a class="struct" href="../forest_blocks/tipset/struct.Tipset.html" title="struct forest_blocks::tipset::Tipset">Tipset</a>) -&gt; <a class="enum" href="https://doc.rust-lang.org/nightly/core/result/enum.Result.html" title="enum core::result::Result">Result</a>&lt;<a class="struct" href="../forest_shim/econ/struct.TokenAmount.html" title="struct forest_shim::econ::TokenAmount">TokenAmount</a>, <a class="enum" href="enum.Error.html" title="enum forest_message_pool::Error">Error</a>&gt;;
}</code></pre></div><details class="toggle top-doc" open><summary class="hideme"><span>Expand description</span></summary><div class="docblock"><p>Provider Trait. This trait will be used by the message pool to interact with
some medium in order to do the operations that are listed below that are
required for the message pool.</p>
</div></details><h2 id="required-methods" class="small-section-header">Required Methods<a href="#required-methods" class="anchor">§</a></h2><div class="methods"><details class="toggle method-toggle" open><summary><section id="tymethod.subscribe_head_changes" class="method"><a class="srclink rightside" href="../src/forest_message_pool/msgpool/provider.rs.html#32">source</a><h4 class="code-header">fn <a href="#tymethod.subscribe_head_changes" class="fn">subscribe_head_changes</a>(&amp;self) -&gt; Subscriber&lt;<a class="enum" href="../forest_chain/store/chain_store/enum.HeadChange.html" title="enum forest_chain::store::chain_store::HeadChange">HeadChange</a>&gt;</h4></section></summary><div class="docblock"><p>Update <code>Mpool</code>’s <code>cur_tipset</code> whenever there is a change to the provider</p>
</div></details><details class="toggle method-toggle" open><summary><section id="tymethod.get_heaviest_tipset" class="method"><a class="srclink rightside" href="../src/forest_message_pool/msgpool/provider.rs.html#34">source</a><h4 class="code-header">fn <a href="#tymethod.get_heaviest_tipset" class="fn">get_heaviest_tipset</a>(&amp;self) -&gt; <a class="struct" href="https://doc.rust-lang.org/nightly/alloc/sync/struct.Arc.html" title="struct alloc::sync::Arc">Arc</a>&lt;<a class="struct" href="../forest_blocks/tipset/struct.Tipset.html" title="struct forest_blocks::tipset::Tipset">Tipset</a>&gt;</h4></section></summary><div class="docblock"><p>Get the heaviest Tipset in the provider</p>
</div></details><details class="toggle method-toggle" open><summary><section id="tymethod.put_message" class="method"><a class="srclink rightside" href="../src/forest_message_pool/msgpool/provider.rs.html#37">source</a><h4 class="code-header">fn <a href="#tymethod.put_message" class="fn">put_message</a>(&amp;self, msg: &amp;<a class="enum" href="../forest_message/chain_message/enum.ChainMessage.html" title="enum forest_message::chain_message::ChainMessage">ChainMessage</a>) -&gt; <a class="enum" href="https://doc.rust-lang.org/nightly/core/result/enum.Result.html" title="enum core::result::Result">Result</a>&lt;Cid, <a class="enum" href="enum.Error.html" title="enum forest_message_pool::Error">Error</a>&gt;</h4></section></summary><div class="docblock"><p>Add a message to the <code>MpoolProvider</code>, return either Cid or Error
depending on successful put</p>
</div></details><details class="toggle method-toggle" open><summary><section id="tymethod.get_actor_after" class="method"><a class="srclink rightside" href="../src/forest_message_pool/msgpool/provider.rs.html#41">source</a><h4 class="code-header">fn <a href="#tymethod.get_actor_after" class="fn">get_actor_after</a>(<br>&nbsp;&nbsp;&nbsp;&nbsp;&amp;self,<br>&nbsp;&nbsp;&nbsp;&nbsp;addr: &amp;<a class="struct" href="../forest_shim/address/struct.Address.html" title="struct forest_shim::address::Address">Address</a>,<br>&nbsp;&nbsp;&nbsp;&nbsp;ts: &amp;<a class="struct" href="../forest_blocks/tipset/struct.Tipset.html" title="struct forest_blocks::tipset::Tipset">Tipset</a><br>) -&gt; <a class="enum" href="https://doc.rust-lang.org/nightly/core/result/enum.Result.html" title="enum core::result::Result">Result</a>&lt;<a class="struct" href="../forest_shim/state_tree/struct.ActorState.html" title="struct forest_shim::state_tree::ActorState">ActorState</a>, <a class="enum" href="enum.Error.html" title="enum forest_message_pool::Error">Error</a>&gt;</h4></section></summary><div class="docblock"><p>Return state actor for given address given the tipset that the a temp
<code>StateTree</code> will be rooted at. Return <code>ActorState</code> or Error
depending on whether or not <code>ActorState</code> is found</p>
</div></details><details class="toggle method-toggle" open><summary><section id="tymethod.messages_for_block" class="method"><a class="srclink rightside" href="../src/forest_message_pool/msgpool/provider.rs.html#43-46">source</a><h4 class="code-header">fn <a href="#tymethod.messages_for_block" class="fn">messages_for_block</a>(<br>&nbsp;&nbsp;&nbsp;&nbsp;&amp;self,<br>&nbsp;&nbsp;&nbsp;&nbsp;h: &amp;<a class="struct" href="../forest_blocks/header/struct.BlockHeader.html" title="struct forest_blocks::header::BlockHeader">BlockHeader</a><br>) -&gt; <a class="enum" href="https://doc.rust-lang.org/nightly/core/result/enum.Result.html" title="enum core::result::Result">Result</a>&lt;(<a class="struct" href="https://doc.rust-lang.org/nightly/alloc/vec/struct.Vec.html" title="struct alloc::vec::Vec">Vec</a>&lt;<a class="struct" href="../forest_shim/message/struct.Message.html" title="struct forest_shim::message::Message">Message</a>&gt;, <a class="struct" href="https://doc.rust-lang.org/nightly/alloc/vec/struct.Vec.html" title="struct alloc::vec::Vec">Vec</a>&lt;<a class="struct" href="../forest_message/signed_message/struct.SignedMessage.html" title="struct forest_message::signed_message::SignedMessage">SignedMessage</a>&gt;), <a class="enum" href="enum.Error.html" title="enum forest_message_pool::Error">Error</a>&gt;</h4></section></summary><div class="docblock"><p>Return the signed messages for given block header</p>
</div></details><details class="toggle method-toggle" open><summary><section id="tymethod.messages_for_tipset" class="method"><a class="srclink rightside" href="../src/forest_message_pool/msgpool/provider.rs.html#48">source</a><h4 class="code-header">fn <a href="#tymethod.messages_for_tipset" class="fn">messages_for_tipset</a>(&amp;self, h: &amp;<a class="struct" href="../forest_blocks/tipset/struct.Tipset.html" title="struct forest_blocks::tipset::Tipset">Tipset</a>) -&gt; <a class="enum" href="https://doc.rust-lang.org/nightly/core/result/enum.Result.html" title="enum core::result::Result">Result</a>&lt;<a class="struct" href="https://doc.rust-lang.org/nightly/alloc/vec/struct.Vec.html" title="struct alloc::vec::Vec">Vec</a>&lt;<a class="enum" href="../forest_message/chain_message/enum.ChainMessage.html" title="enum forest_message::chain_message::ChainMessage">ChainMessage</a>&gt;, <a class="enum" href="enum.Error.html" title="enum forest_message_pool::Error">Error</a>&gt;</h4></section></summary><div class="docblock"><p>Return all messages for a tipset</p>
</div></details><details class="toggle method-toggle" open><summary><section id="tymethod.load_tipset" class="method"><a class="srclink rightside" href="../src/forest_message_pool/msgpool/provider.rs.html#50">source</a><h4 class="code-header">fn <a href="#tymethod.load_tipset" class="fn">load_tipset</a>(&amp;self, tsk: &amp;<a class="struct" href="../forest_blocks/tipset/struct.TipsetKeys.html" title="struct forest_blocks::tipset::TipsetKeys">TipsetKeys</a>) -&gt; <a class="enum" href="https://doc.rust-lang.org/nightly/core/result/enum.Result.html" title="enum core::result::Result">Result</a>&lt;<a class="struct" href="https://doc.rust-lang.org/nightly/alloc/sync/struct.Arc.html" title="struct alloc::sync::Arc">Arc</a>&lt;<a class="struct" href="../forest_blocks/tipset/struct.Tipset.html" title="struct forest_blocks::tipset::Tipset">Tipset</a>&gt;, <a class="enum" href="enum.Error.html" title="enum forest_message_pool::Error">Error</a>&gt;</h4></section></summary><div class="docblock"><p>Return a tipset given the tipset keys from the <code>ChainStore</code></p>
</div></details><details class="toggle method-toggle" open><summary><section id="tymethod.chain_compute_base_fee" class="method"><a class="srclink rightside" href="../src/forest_message_pool/msgpool/provider.rs.html#52">source</a><h4 class="code-header">fn <a href="#tymethod.chain_compute_base_fee" class="fn">chain_compute_base_fee</a>(&amp;self, ts: &amp;<a class="struct" href="../forest_blocks/tipset/struct.Tipset.html" title="struct forest_blocks::tipset::Tipset">Tipset</a>) -&gt; <a class="enum" href="https://doc.rust-lang.org/nightly/core/result/enum.Result.html" title="enum core::result::Result">Result</a>&lt;<a class="struct" href="../forest_shim/econ/struct.TokenAmount.html" title="struct forest_shim::econ::TokenAmount">TokenAmount</a>, <a class="enum" href="enum.Error.html" title="enum forest_message_pool::Error">Error</a>&gt;</h4></section></summary><div class="docblock"><p>Computes the base fee</p>
</div></details></div><h2 id="implementors" class="small-section-header">Implementors<a href="#implementors" class="anchor">§</a></h2><div id="implementors-list"><section id="impl-Provider-for-TestApi" class="impl"><a class="srclink rightside" href="../src/forest_message_pool/msgpool/test_provider.rs.html#111-202">source</a><a href="#impl-Provider-for-TestApi" class="anchor">§</a><h3 class="code-header">impl <a class="trait" href="trait.Provider.html" title="trait forest_message_pool::Provider">Provider</a> for <a class="struct" href="test_provider/struct.TestApi.html" title="struct forest_message_pool::test_provider::TestApi">TestApi</a></h3></section><section id="impl-Provider-for-MpoolRpcProvider%3CDB%3E" class="impl"><a class="srclink rightside" href="../src/forest_message_pool/msgpool/provider.rs.html#75-126">source</a><a href="#impl-Provider-for-MpoolRpcProvider%3CDB%3E" class="anchor">§</a><h3 class="code-header">impl&lt;DB&gt; <a class="trait" href="trait.Provider.html" title="trait forest_message_pool::Provider">Provider</a> for <a class="struct" href="struct.MpoolRpcProvider.html" title="struct forest_message_pool::MpoolRpcProvider">MpoolRpcProvider</a>&lt;DB&gt;<span class="where fmt-newline">where<br>&nbsp;&nbsp;&nbsp;&nbsp;DB: Blockstore + <a class="trait" href="../forest_db/trait.Store.html" title="trait forest_db::Store">Store</a> + <a class="trait" href="https://doc.rust-lang.org/nightly/core/clone/trait.Clone.html" title="trait core::clone::Clone">Clone</a> + <a class="trait" href="https://doc.rust-lang.org/nightly/core/marker/trait.Sync.html" title="trait core::marker::Sync">Sync</a> + <a class="trait" href="https://doc.rust-lang.org/nightly/core/marker/trait.Send.html" title="trait core::marker::Send">Send</a> + 'static,</span></h3></section></div><script src="../implementors/forest_message_pool/msgpool/provider/trait.Provider.js" async></script></section></div></main><div id="rustdoc-vars" data-root-path="../" data-static-root-path="../static.files/" data-current-crate="forest_message_pool" data-themes="" data-resource-suffix="" data-rustdoc-version="1.69.0-nightly (e972bc808 2023-01-29)" data-search-js="search-98d53477a794af0b.js" data-settings-js="settings-a43118d2dfb2799d.js" data-settings-css="settings-7c23ac01f615ce90.css" ></div></body></html>